//利用之前的循环实验所使用的凯撒密码加密文件内容，要求加密后内容存入新的文件，将加密后的文件解密，再次存入新的文件中，默认凯撒密码的秘钥为 3。
#define _CRT_SECURE_NO_WARNINGS 1
#include <stdio.h> 
#include <stdlib.h> 
int main()
 {
	FILE* f1, * f2, * f3;
	int a;
	//char ch;
	printf("输入 1 为文件加密，输入 2 为文件解密，输入其他字符退出程序\n"); 
	scanf("%d", &a);
			if (a == 1) {
				char ch;
				f1 = fopen("文件1.txt", "r");
				f2 = fopen("文件2.txt", "w");
				if (f1 == NULL || f2 == NULL)
			 	{
					printf("打开文件失败!\n");
					exit(0);
				}
				while ((ch = fgetc(f1)) != EOF)
					{
						if ((ch >= 'a') && (ch <= 'z'))
						{
							ch = ((ch - 'a' + 3 + 26) % 26 + 'a');
						}
						if ((ch >= 'A') && (ch <= 'Z'))
						{
							ch = ((ch - 'A' + 3 + 26) % 26 + 'A');
						}
						//fputc(ch, f2);
				 		fprintf(f2, "%c", ch);
					}
				fclose(f2);
				fclose(f1);
				printf("\n文件1加密成功!\n");
			}
			else if (a == 2) {
				char ch;
				f2 = fopen("文件2.txt", "r");
				f3 = fopen("文件3.txt", "w");
				if (f2 == NULL || f3 == NULL) {
					printf("文件打开失败!\n");
					exit(0);
				}
						while ((ch = fgetc(f2)) != EOF)
					{
						if ((ch >= 'a') && (ch <= 'z'))
						{
							ch = ((ch - 'a' - 3 + 26) % 26 + 'a');
						}
						if ((ch >= 'A') && (ch <= 'Z'))
						{
							ch = ((ch - 'A' - 3 + 26) % 26 + 'A');
						}
						//fputc(ch, f2);
				 		fprintf(f3, "%c", ch);
					}
				fclose(f3);
				fclose(f2);
				printf("\n文件2解密成功!\n");
			}
			return 0;
		}

